<div *ngIf="isObjectEmpty(userInfo); else content" class="loading-container">
  <mat-progress-spinner mode="indeterminate"></mat-progress-spinner>
</div>

<ng-template #content>
  <!-- Main content box with adjusted spacing -->
  <div class="profile-container">
    <!-- Centered avatar and user information -->
    <div class="profile-header">
      <!-- Use default avatar image if user avatar is not set -->
      <img
        [src]="userInfo['avatar'] || 'assets/images/default-avatar.png'"
        alt=""
        class="profile-picture"
      />
      <h2>{{ userInfo['userName'] }}</h2>
      <p class="membership-status">Premium Member</p>
    </div>

    <!-- User details section -->
    <div class="profile-details">
      <div class="detail-row">
        <p class="detail-label">Username</p>
        <p class="detail-value" *ngIf="!isEditing">{{ userInfo['userName'] }}</p>
        <input
          *ngIf="isEditing"
          [(ngModel)]="userInfo['userName']"
          type="text"
          class="detail-input"
        />
      </div>
      <div class="detail-row">
        <p class="detail-label">Email</p>
        <p class="detail-value">{{ userInfo['email'] }}</p> <!-- Always display email as non-editable -->
      </div>
      <div class="detail-row">
        <p class="detail-label">Phone</p>
        <p class="detail-value" *ngIf="!isEditing">{{ userInfo['phone'] }}</p>
        <input
          *ngIf="isEditing"
          [(ngModel)]="userInfo['phone']"
          type="text"
          class="detail-input"
        />
      </div>
    </div>

    <!-- Edit/Save button -->
    <button mat-button class="edit-button" (click)="toggleEdit()">
      {{ isEditing ? 'Save' : 'Edit' }}
    </button>
  </div>
</ng-template>